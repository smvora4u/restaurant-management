# Render Blueprint - Backend service
#
# OPTION A - Node runtime (recommended): Root Directory = (empty)
#   Build: npm install && npm run build -w @restaurant/backend
#   Start: npm start -w @restaurant/backend
#
# OPTION B - Docker: Root Directory = (empty), Dockerfile = Dockerfile.backend
#   Context must be repo root so apps/backend and apps/printer-proxy are available.
#   If Root Directory is apps/backend, use apps/backend/Dockerfile instead (no printer-proxy).

services:
  - type: web
    name: restaurant-backend
    runtime: node
    region: oregon
    buildCommand: npm install && npm run build -w @restaurant/backend
    startCommand: npm start -w @restaurant/backend
    envVars:
      - key: NODE_ENV
        value: production
      # Add MONGO_URL, JWT_SECRET, BACKEND_PUBLIC_URL, etc. in Render Dashboard
